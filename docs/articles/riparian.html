<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>riparian • riparian</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="riparian">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">riparian</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/riparian.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>riparian</h1>
                        <h4 class="author">Erik Rose</h4>
            
            <h4 class="date">2019-04-04</h4>
      
      
      <div class="hidden name"><code>riparian.Rmd</code></div>

    </div>

    
    
<p>Welcome to the <code>vignette</code> for the package <code>riparian</code>, a suite of tools designed to help Benton County Community Development staff analyze riparian cover extent and change in cover over time. This document models the workflow of producing an annual monitoring report for the SRP program, and demonstrates how functions in the <code>riparian</code> package can make monitoring faster and more efficient for the researcher.</p>
<div id="step-one-site-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#step-one-site-plots" class="anchor"></a>Step One: Site Plots</h2>
<p>Benton County conducts riparian monitoring whenever new high resolution (1-foot) orthographic imagery becomes available. Likely, your bosses have hired you because new imagery has just arrived. In my year, the County collected collected imagery in S:/maps/OrthoPhotos, which each year of imagery in a separate folder. If you are planning on doing a lot of operations on large raster data, then I suggest copying the folder containing the imagery onto an external drive. This minimizes network traffic for others and speeds performance at your workstation.</p>
<p>The County currently monitors 54 randomly selected sites along priority corridors, and may add additional sites based upon future permit approvals. The reason we look at the same 54 sites every year is because we are trying to detect change in cover. If we looked at a different slew of sites each year, it would be hard to know whether an increase or decrease in cover were due to variation between the sites we selected, or whether vegetation removal or accrual occurred. Using this method, we can circle individual trees that have gone missing from one year to the next. Because the sites are randomly selected and representative of conditions in the priority corridor generally, we can be reasonably confident that changes in cover within the sample reflect conditions in the priority corridor.</p>
<p>Acces the polygon shapefile containing the 54 sampling boxes for each site by calling the command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(samples, <span class="dt">package =</span> <span class="st">'riparian'</span>)

<span class="co"># use the raster package to plot spatial data</span>
raster<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(samples[<span class="dv">1</span>,], <span class="dt">main =</span> <span class="st">'Example Sampling Box'</span>)</code></pre></div>
<p><img src="riparian_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<p>The function for printing plots of sample sites using new orthographic imagery is called <code><a href="../reference/plot_samples.html">plot_samples()</a></code>, and it takes three main arguments. The first argument is called <code>in_path</code> and it is the path to the directory of orthographic imagery. R uses the convention of forward slashes in path names (for instance the path to my working folder for this project is ‘E:/Riparian’ and the path to the 2018 imagery is ‘E:/ortho2018’). The function expects a character string, so the path name needs to have single or double quotes around it. The second argument is <code>out_path</code>, and specifies where the function will print the sample plots into. The third argument, <code>samples</code> is the polygon shapefile of sampling boxes. By default the function looks for an object called <code>samples</code> in the current environment, so if you have loaded the data <code>samples</code>, then you can omit the third argument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(riparian)

<span class="co"># not run</span>
<span class="co"># change the path names to use</span>
<span class="kw"><a href="../reference/plot_samples.html">plot_samples</a></span>(<span class="dt">in_path =</span> <span class="st">'E:/ortho2018'</span>,
             <span class="dt">out_path =</span><span class="st">'E:/Riparian/sites2018'</span>)</code></pre></div>
<p><img src=""><!-- --></p>
<p>The function <code><a href="../reference/plot_samples.html">plot_samples()</a></code> has additional optional arguments. By default it will print an RGB plot and an NDVI plot for each site. You can turn off one or the other by setting <code>print_rgb</code> or <code>print_ndvi</code> to FALSE, depicted below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># not run</span>

<span class="co"># prints rgb only</span>
<span class="kw"><a href="../reference/plot_samples.html">plot_samples</a></span>(<span class="st">'E:/ortho2018'</span>, <span class="st">'E:/Riparian/sites2018'</span>, <span class="dt">print_ndvi =</span> <span class="ot">FALSE</span>)

<span class="co"># prints ndvi only</span>
<span class="kw"><a href="../reference/plot_samples.html">plot_samples</a></span>(<span class="st">'E:/ortho2018'</span>, <span class="st">'E:/Riparian/sites2018'</span>, <span class="dt">print_rgb =</span> F)</code></pre></div>
</div>
<div id="scoring-samples" class="section level2">
<h2 class="hasAnchor">
<a href="#scoring-samples" class="anchor"></a>Scoring Samples</h2>
<p>Once you have printed sampling plots for all sites, it is time to score cover extent.</p>
<p>In 2018 I created an excel file called <code>samples2018.xlsx</code> to record cover extent for the 2018 annual monitoring report and the 5-year trends and status report. In order for the functions in <code>riparian</code> to work correctly, it is important for you to format your record of observations exactly like the spreadsheet from 2018. First, let’s take a look at that spreadsheet by loading it into the workspace. The file is located in the extdata folder in csv format.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(data.table)

<span class="co"># construct the file path to csv</span>
csv_path &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">'extdata'</span>, <span class="st">'samples2018.csv'</span>, <span class="dt">package =</span> <span class="st">'riparian'</span>)

<span class="co"># read the csv in as a data.table</span>
obs &lt;-<span class="st"> </span><span class="kw">fread</span>(csv_path)

<span class="co"># examine results</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(obs)</code></pre></div>
<p>You can also examine the data as a native R object, using the <code>data</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">obs &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(samples2018, <span class="dt">package =</span> <span class="st">'riparian'</span>)
<span class="co">#&gt; Warning in data(samples2018, package = "riparian"): data set 'samples2018'</span>
<span class="co">#&gt; not found</span>

<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(obs)
<span class="co">#&gt;  chr "samples2018"</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#step-one-site-plots">Step One: Site Plots</a></li>
      <li><a href="#scoring-samples">Scoring Samples</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Erik Rose.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
